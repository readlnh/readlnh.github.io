---
title: TCP/IP笔记
date: 2022-11-15 13:15
tags:
    - linux
    - tcp/ip
    - network
---

四层协议，自底向上：

- 数据链路层
- 网络层
- 传输层
- 应用层

## 数据链路层
数据链路层实现了网卡接口的网络驱动程序，以处理数据在物理媒介（比如以太网，令牌环）上的传输。不同的物理网络具有不同的电气特性，网络驱动隐藏了这些细节，为上层协议提供统一接口。

数据链路层常用协议

- ARP协议（Address Resolve Protocol, 地址解析协议）
- RARP协议（Reverse Address Resolve Protocol, 逆地址解析协议）

他们实现了ip地址和物理地址（通常是MAC）的互相转换。网络层使用ip地址寻址一台机器，而数据链路层使用物理地址寻址一台机器，故网络层必须先把目标机器的ip地址转换成物理地址，才能使用数据链路层的服务（ARP）。而RARP协议则通常用于无盘工作站（类似网吧无盘系统）。因为缺乏存储设备，无盘工作站无法记住自己的ip地址，但是它们可以利用网卡上的物理地址来向网络管理者（服务器或网络管理软件）查询自身的ip。

## 网络层
网络层实现数据包的选路和转发：

- WAN（Wide Area Network， 广域网）
- LAN（Local Area Network， 局域网）

WAN通常使用众多分级路由器来连接分散的主机或LAN，因此，通信的两台主机一般不是直接相连的，而是通过多个中间节点（路由器）相连的。网络层的任务就是选择这些中间节点，以确定两台主机之间的通信路径。